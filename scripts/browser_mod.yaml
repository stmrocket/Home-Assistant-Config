popup_blinds:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: House Blinds
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: cover.den_blinds
                  color_type: icon
                  state:
                    - value: "open"
                      color: rgb(228, 94, 101)
                      icon: mdi:blinds-open
                    - value: "closed"
                      color: rgb(255, 255, 255)
                      icon: mdi:blinds
                    - value: "unavailable"
                      color: rgb(228, 94, 101)
                      icon: mdi:exclamation
                  name: Den
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: cover.kitchen_blinds
                  color_type: icon
                  state:
                    - value: "open"
                      color: rgb(228, 94, 101)
                      icon: mdi:blinds-open
                    - value: "closed"
                      color: rgb(255, 255, 255)
                      icon: mdi:blinds
                    - value: "unavailable"
                      color: rgb(228, 94, 101)
                      icon: mdi:exclamation
                  name: Kitchen
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: cover.office_blinds
                  color_type: icon
                  state:
                    - value: "open"
                      color: rgb(228, 94, 101)
                      icon: mdi:blinds-open
                    - value: "closed"
                      color: rgb(255, 255, 255)
                      icon: mdi:blinds
                    - value: "unavailable"
                      color: rgb(228, 94, 101)
                      icon: mdi:exclamation
                  name: Office
                  hold_action: 
                    action: more-info

            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: cover.master_blinds
                  color_type: icon
                  state:
                    - value: "open"
                      color: rgb(228, 94, 101)
                      icon: mdi:blinds-open
                    - value: "closed"
                      color: rgb(255, 255, 255)
                      icon: mdi:blinds
                    - value: "unavailable"
                      color: rgb(228, 94, 101)
                      icon: mdi:exclamation
                  name: Master
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: cover.guest_blind
                  color_type: icon
                  state:
                    - value: "open"
                      color: rgb(228, 94, 101)
                      icon: mdi:blinds-open
                    - value: "closed"
                      color: rgb(255, 255, 255)
                      icon: mdi:blinds
                    - value: "unavailable"
                      color: rgb(228, 94, 101)
                      icon: mdi:exclamation
                  name: Guest
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: cover.server_room_blind
                  color_type: icon
                  state:
                    - value: "open"
                      color: rgb(228, 94, 101)
                      icon: mdi:blinds-open
                    - value: "closed"
                      color: rgb(255, 255, 255)
                      icon: mdi:blinds
                    - value: "unavailable"
                      color: rgb(228, 94, 101)
                      icon: mdi:exclamation
                  name: Server
                  hold_action: 
                    action: more-info
            
            - type: horizontal-stack
              cards:

                - type: "custom:button-card"
                  entity: cover.shack_blinds
                  color_type: icon
                  state:
                    - value: "open"
                      color: rgb(228, 94, 101)
                      icon: mdi:blinds-open
                    - value: "closed"
                      color: rgb(255, 255, 255)
                      icon: mdi:blinds
                    - value: "unavailable"
                      color: rgb(228, 94, 101)
                      icon: mdi:exclamation
                  name: Shack
                  hold_action: 
                    action: more-info
                
                - type: "custom:gap-card"

                - type: "custom:button-card"
                  color_type: icon
                  icon: mdi:refresh
                  name: Calibrate
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: habc/all/command/set/calibrate

popup_roomba:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Roomba
        card:
          type: entities
          show_header_toggle: false
          entities:
              - entity: switch.roomba
              - entity: sensor.roomba_battery_level
              - entity: sensor.roomba_status
              - entity: input_boolean.roomba_auto
              - entity: counter.roomba_cycles
                name: Cycles Since Emptied
                icon: mdi:robot-vacuum
              - entity: script.reset_roomba_counter
                name: Reset Cycle Count
                icon: mdi:delete-empty

popup_washer:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Washer
        card:
          type: entities
          entities:
            - entity: sensor.washer_state
            - entity: sensor.washer_voltage
            - entity: sensor.washer_watts
            - entity: sensor.washer_amps
            - entity: sensor.washer_energy_today
              icon: 'mdi:gauge'
            - entity: sensor.washer_energy_yesterday
              icon: 'mdi:gauge'
            - entity: sensor.washer_signal
              icon: 'mdi:wifi'               

popup_dryer:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Dryer
        card:
          type: entities
          entities:
            - entity: sensor.dryer_state
            - entity: sensor.dryer_voltage
            - entity: sensor.dryer_watts
            - entity: sensor.dryer_amps
            - entity: sensor.dryer_energy_today
              icon: 'mdi:gauge'
            - entity: sensor.dryer_energy_yesterday
              icon: 'mdi:gauge'
            - entity: sensor.dryer_signal
              icon: 'mdi:wifi'            

popup_office_blinds:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Office Blinds
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: cover.left_office_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Left
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: cover.center_office_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Center
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: cover.right_office_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Right
                  hold_action: 
                    action: more-info

popup_automation_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]                    
        title: Automation Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.automation_count
              name: Current Automations
            - input_number.automation_count_expected

popup_binary_sensor_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]       
        title: Binary Sensor Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.binary_sensor_count
              name: Current Binary Sensors
            - input_number.binary_sensor_count_expected

popup_switch_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]   
        title: Switch Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.switch_count
              name: Current Switches
            - input_number.switch_count_expected

popup_fan_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]   
        title: Fan Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.fan_count
              name: Current Fans
            - input_number.fan_count_expected

popup_lights_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]       
        title: Light Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.lights_count
              name: Current Lights
            - input_number.light_count_expected

popup_tracker_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]                       
        title: Device Tracker Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.tracker_count
              name: Current Device Trackers
            - input_number.tracked_device_count_expected

popup_media_player_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]      
        title: Media Player Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.media_player_count
              name: Current Media Players
            - input_number.media_player_count_expected

popup_script_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]                
        title: Script Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.script_count
              name: Current Scripts
            - input_number.script_count_expected

popup_sensor_count:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]             
        title: Sensor Count Settings
        card:
          type: entities
          entities:
            - entity: sensor.sensor_count
              name: Current Sensors
            - input_number.sensor_count_expected

popup_github:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]                                    
        title: GitHub Updater
        card:
          type: vertical-stack
          cards:
            
            - type: horizontal-stack
              cards:

                - type: "custom:button-card"
                  entity: binary_sensor.git_update_ready
                  color_type: icon
                  state:
                    - value: 'on'
                      color: rgb(228, 94, 101)
                    - value: 'off'
                      color: rgb(255, 255, 255)
                  icon: mdi:github-circle
                  name: Restart
                  tap_action: 
                    action: call-service
                    service: script.update_config_restart
                
                - type: "custom:button-card"
                  entity: binary_sensor.git_update_ready
                  color_type: icon
                  state:
                    - value: 'on'
                      color: rgb(228, 94, 101)
                    - value: 'off'
                      color: rgb(255, 255, 255)
                  icon: mdi:github-circle
                  name: Reload
                  tap_action: 
                    action: call-service
                    service: script.update_config_reload_automations

                - type: "custom:button-card"
                  entity: binary_sensor.git_update_ready
                  color_type: icon
                  state:
                    - value: 'on'
                      color: rgb(228, 94, 101)
                    - value: 'off'
                      color: rgb(255, 255, 255)
                  icon: mdi:equal
                  name: Clear
                  tap_action: 
                    action: call-service
                    service: script.clear_config_update_flag

popup_hacs:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]        
        title: HACS
        card:
          type: "custom:list-card"
          entity: sensor.hacs            
          feed_attribute: repositories
          columns:
            - {field: name, title: 'Name'}
            - {field: installed version, title: 'Installed'}
            - {field: available version, title: 'Latest'}              

popup_christmas_outdoor:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Outdoor Christmas
        card:
          type: entities
          entities:
            - entity: input_boolean.christmas_show
            - entity: sensor.fpp_master_playlist
              name: Playlist
            - entity: sensor.fpp_master_playlist_section
              name: Playlist Section
            - entity: sensor.fpp_master_sequence
              name: Sequence

popup_media_office:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Office NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 1
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 1

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 1

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_1_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 1,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_1_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 1,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_1_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 1,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_1_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 1,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_1_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 1,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_1_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 1,6                      

popup_media_guest_bed:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Guest Room NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 2
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 2

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 2

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_2_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 2,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_2_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 2,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_2_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 2,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_2_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 2,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_2_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 2,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_2_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 2,6   

popup_media_server:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Server Room NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 3
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 3

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 3

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_3_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 3,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_3_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 3,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_3_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 3,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_3_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 3,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_3_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 3,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_3_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 3,6   

popup_media_master_bed:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Master Bedroom NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 4
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 4

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 4

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_4_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 4,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_4_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 4,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_4_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 4,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_4_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 4,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_4_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 4,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_4_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 4,6   

popup_media_master_bath:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Master Bathroom NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 5
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 5

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 5

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_5_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 5,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_5_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 5,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_5_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 5,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_5_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 5,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_5_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 5,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_5_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 5,6           

popup_media_garage:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]   
        title: Garage NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 6
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 6

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 6

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_6_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 6,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_6_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 6,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_6_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 6,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_6_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 6,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_6_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 6,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_6_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 6,6     

popup_media_den:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]                                                    
        title: Den NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 7
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 7

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 7

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_7_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 7,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_7_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 7,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_7_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 7,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_7_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 7,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_7_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 7,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_7_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 7,6     

popup_media_dining:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]     
        title: Ham Shack NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 9
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 9

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 9

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_9_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 9,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_9_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 9,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_9_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 9,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_9_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 9,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_9_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 9,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_9_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 9,6    

popup_media_kitchen:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"] 
        title: Kitchen NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 10
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 10

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 10

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_10_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 10,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_10_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 10,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_10_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 10,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_10_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 10,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_10_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 10,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_10_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 10,6                          

popup_media_porch:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]                                                              
        title: Back Porch NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 11
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 11

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 11

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_11_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 11,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_11_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 11,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_11_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 11,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_11_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 11,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_11_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 11,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_11_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 11,6

popup_media_guest_bath:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]     
        title: Guest Bathroom NuVo
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-backward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/prev
                      payload: 12
                
                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:play-pause
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/play
                      payload: 12

                - type: "custom:button-card"                
                  color_type: icon
                  color: rgb(255, 255, 255)
                  icon: mdi:skip-forward
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/next
                      payload: 12

                - type: "custom:gap-card"

            - type: horizontal-stack
              cards:
                #- type: "custom:gap-card"

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_12_source
                  color_type: icon
                  state:
                    - value: 1
                      color: rgb(228, 94, 101)
                    - value: 1
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 1
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 12,1
                
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_12_source
                  color_type: icon
                  state:
                    - value: 2
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 2
                      color: rgb(228, 94, 101)
                    - value: 2
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 2
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 12,2

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_12_source
                  color_type: icon
                  state:
                    - value: 3
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 3
                      color: rgb(228, 94, 101)
                    - value: 3
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 3
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 12,3
            - type: horizontal-stack
              cards:
                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_12_source
                  color_type: icon
                  state:
                    - value: 4
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 4
                      color: rgb(228, 94, 101)
                    - value: 4
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:server
                  name: Server 4
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 12,4      

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_12_source
                  color_type: icon
                  state:
                    - value: 5
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 5
                      color: rgb(228, 94, 101)
                    - value: 5
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:google-play
                  name: Google
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 12,5

                - type: "custom:button-card"
                  entity: sensor.nuvo_zone_12_source
                  color_type: icon
                  state:
                    - value: 6
                      operator: <
                      color: rgb(255, 255, 255)
                    - value: 6
                      color: rgb(228, 94, 101)
                    - value: 6
                      operator: >
                      color: rgb(255, 255, 255)
                  icon: mdi:cast
                  name: Cast
                  tap_action: 
                    action: call-service
                    service: mqtt.publish
                    service_data:
                      topic: nuvo/command/set/zone/src
                      payload: 12,6                                        

popup_den_blinds:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Den Blinds
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: cover.left_den_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Left
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: cover.center_den_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Center
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: cover.right_den_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Right
                  hold_action: 
                    action: more-info                      

popup_shack_blinds:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: HAM Shack Blinds
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: cover.left_shack_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Left
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: cover.center_shack_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Center
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: cover.right_shack_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Right
                  hold_action: 
                    action: more-info                    

popup_kitchen_blinds:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Kitchen Blinds
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: cover.left_kitchen_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Left
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: cover.right_kitchen_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Right
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: cover.east_kitchen_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: East
                  hold_action: 
                    action: more-info                    

popup_master_blinds:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Master Bedroom Blinds
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: cover.left_master_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Left
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: cover.center_master_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Center
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: cover.right_master_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: Right
                  hold_action: 
                    action: more-info                       
            - type: horizontal-stack
              cards:
                
                - type: "custom:gap-card"
                
                - type: "custom:button-card"
                  entity: cover.west_master_blind
                  color_type: icon
                  state:
                      - value: "open"
                        color: rgb(228, 94, 101)
                        icon: mdi:blinds-open
                      - value: "closed"
                        color: rgb(255, 255, 255)
                        icon: mdi:blinds
                      - value: "unavailable"
                        color: rgb(228, 94, 101)
                        icon: mdi:exclamation
                  name: West
                  hold_action: 
                    action: more-info

                - type: "custom:gap-card"

popup_media_wha:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Google Music
        card:
          type: vertical-stack
          cards:
            - type: entities
              entities:
              - entity: input_select.gmusic_player_speakers
              - entity: input_select.gmusic_player_source
              - entity: input_select.gmusic_player_playlist
              - entity: input_select.gmusic_player_station
              - type: custom:mini-media-player
                entity: media_player.gmusic_player
                icon: mdi:google-play
                #group: true
                artwork: cover
                hide:
                  source: true

              - type: custom:mini-media-player
                entity: media_player.whole_house_audio
                icon: mdi:cast
                #group: true
                artwork: cover
                volume_stateless: true
                hide:
                  source: true
                  volume: true

popup_manual_alarm:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Manual Alarm Clock
        card:
          type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                
                - type: "custom:button-card"
                  entity: input_boolean.manual_alarm_enabled
                  color_type: icon
                  color: rgb(228, 94, 101)
                  state:
                    - value: "on"
                      icon: mdi:alarm-check
                    - value: "off"
                      icon: mdi:alarm-off
                  name: Enable
                  hold_action: 
                    action: more-info
                
                - type: "custom:button-card"
                  entity: input_boolean.manual_alarm_repeat
                  color_type: icon
                  color: rgb(228, 94, 101)
                  state:
                    - value: "on"
                      icon: mdi:repeat
                    - value: "off"
                      icon: mdi:repeat-off
                  name: Repeat
                  hold_action: 
                    action: more-info

                - type: "custom:button-card"
                  entity: input_boolean.manual_alarm_horn
                  color_type: icon
                  state:
                    - value: "on"
                      icon: mdi:alarm-bell
                      color: rgb(228, 94, 101)
                      name: Horn
                    - value: "off"
                      icon: mdi:music
                      color: rgb(228, 94, 101)
                      name: Music
                  hold_action: 
                    action: more-info  
            - type: horizontal-stack
              cards:
                - type: "custom:gap-card"
                
                - type: "custom:button-card"
                  entity: input_boolean.manual_alarm_hvac
                  color_type: icon
                  color: rgb(228, 94, 101)
                  icon: mdi:thermostat
                  name: Resume
                  hold_action: 
                    action: more-info      

                - type: "custom:gap-card"

            - type: entities
              entities:
              - entity: input_datetime.master_manual_alarm
                name: "Alarm Time"

popup_filter:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: HVAC Filter
        card:
          type: vertical-stack
          cards:
            - type: "custom:hui-entities-card"
              entities:                  
              - entity: sensor.furnace_filter_life
              - entity: sensor.average_total_runtime_week
              - entity: sensor.furnace_filter_days_remaining
              - entity: input_number.replacement_threshold   
              - type: "custom:restriction-card"
                row: true
                restrictions:
                  confirm: true
                  text: "Reset filter timer?"
                card:
                  entity: script.furnace_filter_date   
                  name: Reset Filter    

popup_blind_network:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Blind Status
        card:
          type: vertical-stack
          cards:
            - type: entities
              entities:
              - device_tracker.den_c
              - device_tracker.den_l
              - device_tracker.den_r
              - device_tracker.guest
              - device_tracker.kitchen_e
              - device_tracker.kitchen_l
              - device_tracker.kitchen_r
              - device_tracker.master_c
              - device_tracker.master_l
              - device_tracker.master_r
              - device_tracker.master_w
              - device_tracker.office_c
              - device_tracker.office_l
              - device_tracker.office_r
              - device_tracker.shack_c
              - device_tracker.shack_l
              - device_tracker.shack_r
              - device_tracker.server                 

popup_led_network:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: LED Controller Status
        card:
          type: vertical-stack
          cards:
            - type: entities
              entities:
              - device_tracker.den_1
              - device_tracker.gbath
              - device_tracker.kitchen_1
              - device_tracker.kitchen_2
              - device_tracker.kitchen_3
              - device_tracker.kitchen_4
              - device_tracker.kitchen_5
              - device_tracker.kitchen_6
              - device_tracker.kitchen_7
              - device_tracker.kitchen_8
              - device_tracker.mbath
              - device_tracker.mbed_1
              - device_tracker.mbed_2
              - device_tracker.shack               

popup_docker:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Docker Container Status
        card:
          type: vertical-stack
          cards:
            - type: "custom:hui-entities-card"
              entities:
              - type: "custom:restriction-card"
                row: true
                restrictions:
                  confirm: true
                  text: "Change container state?"
                card:
                  entity: switch.frigate
              - type: "custom:restriction-card"
                row: true
                restrictions:
                  confirm: true
                  text: "Change container state?"
                card:
                  entity: switch.mysql
              - type: "custom:restriction-card"
                row: true
                restrictions:
                  confirm: true
                  text: "Change container state?"
                card:
                  entity: switch.tv_headend
              - type: "custom:restriction-card"
                row: true
                restrictions:
                  confirm: true
                  text: "Change container state?"
                card:
                  entity: switch.eagle_mqtt               

popup_server_ups:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Server Room UPS Status
        card:
          type: vertical-stack
          cards:
            - type: entities
              entities:
              - entity: sensor.server_ups_status
                name: Power Source
              - entity: sensor.server_ups_battery_health
                name: Battery Status
              - entity: sensor.server_ups_battery_capacity
                name: Charge Level
              - entity: sensor.server_ups_remaining_runtime
                name: Runtime
              - entity: sensor.server_ups_output_load
                name: Load
              - entity: sensor.server_ups_output_voltage
                name: Output Voltage
              - entity: sensor.server_ups_output_frequency
                name: Output Frequenct
              - entity: sensor.server_ups_output_current
                name: Output Current
              - entity: sensor.server_ups_input_voltage
                name: Input Voltage
              - entity: sensor.server_ups_input_frequency
                name: Input Frequency
              - entity: sensor.server_ups_battery_temperature
                name: Battery Temperature

popup_office_ups:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Office UPS Status
        card:
          type: vertical-stack
          cards:
            - type: entities
              entities:
              - entity: sensor.office_ups_status
                name: Power Source
              - entity: sensor.office_ups_battery_health
                name: Battery Status
              - entity: sensor.office_ups_battery_capacity
                name: Charge Level
              - entity: sensor.office_ups_remaining_runtime
                name: Runtime
              - entity: sensor.office_ups_output_load
                name: Load
              - entity: sensor.office_ups_output_voltage
                name: Output Voltage
              - entity: sensor.office_ups_output_frequency
                name: Output Frequenct
              - entity: sensor.office_ups_output_current
                name: Output Current
              - entity: sensor.office_ups_input_voltage
                name: Input Voltage
              - entity: sensor.office_ups_input_frequency
                name: Input Frequency
              - entity: sensor.office_ups_battery_temperature
                name: Battery Temperature

popup_work_alarm:
  sequence:
    - service: browser_mod.popup
      data_template:
        deviceID: ["{{ ','.join(deviceID) }}"]
        title: Work Alarm
        card:
          type: entities
          show_header_toggle: false
          entities:
              - entity: input_boolean.work_alarm_enabled
                name: Enabled
              - entity: input_datetime.master_work_alarm
                name: "Alarm Time"         