# lovelace_gen
#############################################################################################################################################
#                                                                                                                                           #
#                                                                VIEW 4 - Blinds                                                            #
#                                                                                                                                           #
#############################################################################################################################################

id: 7
icon: mdi:cog
title: Settings

cards:
  - type: vertical-stack
    cards:
      - type: custom:stack-in-card
        cards:
          - type: picture-elements
            image: /local/lovelace/room_sm.png
            elements:
              - entity: sensor.blank
                hold-action: none
                prefix: RainMachine
                style:
                  bottom: -5%
                  font-size: 150%
                  left: 5%
                  transform: initial
                tap_action: none
                hold_action: none
                type: state-label

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: sensor.program_every_2_days_status
                color_type: icon
                state:
                  - value: "enabled"
                    color: rgb(228, 94, 101)
                    icon: mdi:alarm-check
                  - value: "running"
                    color: rgb(228, 94, 101)
                    icon: mdi:sprinkler
                    styles:
                      icon:
                        - animation: blink 1s infinite
                  - value: "disabled"
                    color: rgb(255, 255, 255)
                    icon: mdi:alarm-off
                name: Every 2 Days
                tap_action:
                  action: call-service
                  service: script.rainmachine_program_2_tap
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: sensor.program_every_3_days_status
                color_type: icon
                state:
                  - value: "enabled"
                    color: rgb(228, 94, 101)
                    icon: mdi:alarm-check
                  - value: "running"
                    color: rgb(228, 94, 101)
                    icon: mdi:mdi:sprinkler
                    styles:
                      icon:
                        - animation: blink 1s infinite
                  - value: "disabled"
                    color: rgb(255, 255, 255)
                    icon: mdi:alarm-off
                name: Every 3 Days
                tap_action:
                  action: call-service
                  service: script.rainmachine_program_1_tap
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: sensor.program_drip_status
                color_type: icon
                state:
                  - value: "enabled"
                    color: rgb(228, 94, 101)
                    icon: mdi:alarm-check
                  - value: "running"
                    color: rgb(228, 94, 101)
                    icon: mdi:sprinkler
                    styles:
                      icon:
                        - animation: blink 1s infinite
                  - value: "disabled"
                    color: rgb(255, 255, 255)
                    icon: mdi:alarm-off
                name: Drip
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.program_drip_enabled
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: switch.irrigation_run_program
                color_type: icon
                icon: mdi:sprinkler-variant
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)                
                    name: Stop Program
                  - value: "off"
                    color: rgb(255, 255, 255)              
                    name: Run Program
                hold_action:
                  action: more-info

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_1_watering
                color_type: icon
                icon: mdi:numeric-1-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: E Front
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.east_front
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_2_watering
                color_type: icon
                icon: mdi:numeric-2-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: E Side
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.east_side
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_3_watering
                color_type: icon
                icon: mdi:numeric-3-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: Back
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.back_yard
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_4_watering
                color_type: icon
                icon: mdi:numeric-4-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: W Side
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.west_side
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_5_watering
                color_type: icon
                icon: mdi:numeric-5-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: W Front
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.west_front
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_6_watering
                color_type: icon
                icon: mdi:numeric-6-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: Drip
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.back_drip
                hold_action:
                  action: more-info

      - type: custom:stack-in-card
        cards:
          - type: picture-elements
            image: /local/lovelace/room_sm.png
            elements:
              - entity: sensor.blank
                hold-action: none
                prefix: Frigate
                style:
                  bottom: -5%
                  font-size: 150%
                  left: 5%
                  transform: initial
                tap_action: none
                hold_action: none
                type: state-label
          - type: entities
            show_header_toggle: false
            entities:
              - entity: sensor.frigate_status
                icon: mdi:cctv
              - input_boolean.frigate_enabled
              - entity: input_number.frigate_disable_time
                name: Delay
              - entity: timer.frigate_disable
                name: Time Remaining


  #################################################################
  #                                                               #
  #                          System - Prusa                       #
  #                                                               #
  #################################################################
  - type: vertical-stack
    cards:
      - !include /config/lovelace/cards/rooms/work.yaml
      - type: 'custom:stack-in-card'
        cards:
          - type: picture-elements
            image: /local/lovelace/room_sm.png
            elements:
              - entity: sensor.blank
                hold-action: none
                prefix: RideWithGPS
                style:
                  bottom: '-5%'
                  font-size: 150%
                  left: 5%
                  transform: initial
                type: state-label
          - type: glance
            show_icon: false
            entities:
              - entity: sensor.daily_bike_distance
                name: Daily
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Daily Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.daily_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.daily_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.daily_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.daily_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.daily_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.weekly_bike_distance
                name: Weekly
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Weekly Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.weekly_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.weekly_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.weekly_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.weekly_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.weekly_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.monthly_bike_distance
                name: Monthly
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Monthly Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.monthly_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.monthly_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.monthly_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.monthly_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.monthly_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.yearly_bike_distance
                name: Yearly
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Yearly Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.yearly_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.yearly_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.yearly_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.yearly_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.yearly_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.career_bike_distance
                name: Career
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Career Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.career_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.career_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.career_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.career_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.career_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'

      - type: 'custom:stack-in-card'
        cards:
          - type: picture-elements
            image: /local/lovelace/room_sm.png
            elements:
              - entity: sensor.blank
                hold-action: none
                prefix: Crosstrek
                style:
                  bottom: '-5%'
                  font-size: 150%
                  left: 5%
                  transform: initial
                type: state-label
          - type: horizontal-stack
            cards:
              - type: custom:flex-horseshoe-card
                entities:
                  - entity: sensor.crosstrek_fuel_level
                    decimals: 0
                    icon: mdi:memory
                    name: FUEL
                    unit: '%'
                    tap_action:
                      action: more-info
                  - entity: sensor.crosstrek_range
                    decimals: 0
                    unit: ' '
                    name: DTE
                    tap_action:
                      action: more-info
                  - entity: sensor.crosstrek_average_fuel_consumption
                    decimals: 0
                    unit: ' '
                    name: MPG
                    tap_action:
                      action: more-info
                show:
                  horseshoe_style: lineargradient
                layout:
                  hlines:
                    - id: 0
                      xpos: 50
                      ypos: 52
                      length: 40
                      styles:
                        - stroke: var(--primary-text-color);
                        - stroke-width: 5;
                        - opacity: 0.9;
                        - stroke-linecap: round;
                      color: '#FFF6E3'
                  vlines:
                    - id: 0
                      xpos: 50
                      ypos: 70
                      length: 20
                      styles:
                        - stroke: var(--primary-text-color);
                        - opacity: 0.5;
                        - stroke-width: 2;
                        - stroke-linecap: round;
                  states:
                    - id: 0
                      entity_index: 0
                      xpos: 50
                      ypos: 44
                      styles:
                        - font-size: 3em;
                        - opacity: 0.9;
                    - id: 1
                      entity_index: 1
                      xpos: 46
                      ypos: 68
                      styles:
                        - font-size: 1.8em;
                        - text-anchor: end;
                    - id: 2
                      entity_index: 2
                      xpos: 54
                      ypos: 68
                      styles:
                        - font-size: 1.8em;
                        - text-anchor: start;
                  names:
                    - id: 0
                      entity_index: 0
                      xpos: 50
                      ypos: 95
                    - id: 1
                      entity_index: 1
                      xpos: 46
                      ypos: 76
                      styles:
                        - font-size: 1.1em;
                        - text-anchor: end;
                        - opacity: 1.0;
                    - id: 2
                      entity_index: 2
                      xpos: 54
                      ypos: 76
                      styles:
                        - font-size: 1.1em;
                        - text-anchor: start;
                        - opacity: 1.0;
                horseshoe_scale:
                  min: 0
                  max: 100
                color_stops:
                  '0': '#FFF6E3'
                  '10': '#FFE9B9'
                  '20': '#FFDA8A'
                  '30': '#FFCB5B'
                  '40': '#FFBF37'
                  '50': '#ffb414'
                  '60': '#FFAD12'
                  '70': '#FFA40E'
                  '80': '#FF9C0B'
                  '90': '#FF8C06'

              - type: custom:flex-horseshoe-card
                entities:
                  - entity: sensor.crosstrek_oil_life
                    attribute: state
                    decimals: 0
                    name: Oil
                    unit: '%'
                    tap_action:
                      action: more-info
                  - entity: sensor.crosstrek_oil_distance
                    attribute: state
                    decimals: 0
                    unit: mi
                    icon: none
                    tap_action:
                      action: more-info
                show:
                  horseshoe_style: lineargradient
                layout:
                  hlines:
                    - id: 0
                      xpos: 50
                      ypos: 52
                      length: 40
                      styles:
                        - stroke: var(--primary-text-color);
                        - stroke-width: 5;
                        - stroke-linecap: round;
                        - opacity: 0.7;
                  states:
                    - id: 0
                      entity_index: 0
                      xpos: 53
                      ypos: 44
                      styles:
                        - font-size: 3em;
                    - id: 1
                      entity_index: 1
                      xpos: 36
                      ypos: 70
                      styles:
                        - text-anchor: start;
                        - font-size: 2.0em;
                  icons:
                    - id: 0
                      entity_index: 1
                      xpos: 37
                      ypos: 70
                      align: end
                      size: 1.3
                  names:
                    - id: 0
                      entity_index: 0
                      xpos: 50
                      ypos: 95
                horseshoe_scale:
                  min: 0
                  max: 100
                color_stops:
                  '0': '#FFF6E3'
                  '1000': '#FFE9B9'
                  '2000': '#FFDA8A'
                  '3000': '#FFCB5B'
                  '4000': '#FFBF37'
                  '5000': '#ffb414'
                  '6000': '#FFAD12'
                  '7000': '#FFA40E'
                  '8000': '#FF9C0B'
                  '9000': '#FF8C06'
              - type: custom:flex-horseshoe-card
                entities:
                  - entity: sensor.crosstrek_tire_life
                    attribute: state
                    decimals: 0
                    name: tire rotation
                    unit: '%'
                    tap_action:
                      action: more-info
                  - entity: sensor.crosstrek_tire_distance
                    attribute: state
                    decimals: 0
                    unit: mi
                    icon: none
                    tap_action:
                      action: more-info
                show:
                  horseshoe_style: lineargradient
                layout:
                  hlines:
                    - id: 0
                      xpos: 50
                      ypos: 52
                      length: 40
                      styles:
                        - stroke: var(--primary-text-color);
                        - stroke-width: 5;
                        - stroke-linecap: round;
                        - opacity: 0.7;
                  states:
                    - id: 0
                      entity_index: 0
                      xpos: 53
                      ypos: 44
                      styles:
                        - font-size: 3em;
                    - id: 1
                      entity_index: 1
                      xpos: 36
                      ypos: 70
                      styles:
                        - text-anchor: start;
                        - font-size: 2.0em;
                  icons:
                    - id: 0
                      entity_index: 1
                      xpos: 37
                      ypos: 70
                      align: end
                      size: 1.3
                  names:
                    - id: 0
                      entity_index: 0
                      xpos: 50
                      ypos: 95
                horseshoe_scale:
                  min: 0
                  max: 100
                color_stops:
                  '0': '#FFF6E3'
                  '1000': '#FFE9B9'
                  '2000': '#FFDA8A'
                  '3000': '#FFCB5B'
                  '4000': '#FFBF37'
                  '5000': '#ffb414'
                  '6000': '#FFAD12'
                  '7000': '#FFA40E'
                  '8000': '#FF9C0B'
                  '9000': '#FF8C06'
          - type: entities
            entities:
              - type: custom:multiple-entity-row
                entity: sensor.crosstrek_mileage_daily
                name: Daily
                icon: mdi:calendar-week
                show_state: false
                entities:
                  - entity: sensor.crosstrek_mileage_yesterday
                    name: Previous
                  - entity: sensor.crosstrek_mileage_daily
                    name: Current
              - type: custom:multiple-entity-row
                entity: sensor.crosstrek_mileage_weekly
                name: Weekly
                icon: mdi:calendar-week
                show_state: false
                entities:
                  - entity: sensor.crosstrek_mileage_last_week
                    name: Previous
                  - entity: sensor.crosstrek_mileage_weekly
                    name: Current
              - type: custom:multiple-entity-row
                entity: sensor.crosstrek_mileage_monthly
                name: Monthly
                icon: mdi:calendar-week
                show_state: false
                entities:
                  - entity: sensor.crosstrek_mileage_last_month
                    name: Previous
                  - entity: sensor.crosstrek_mileage_monthly
                    name: Current

  - type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - entity: sensor.prusamk4
            state: "unavailable"
        card:
          type: picture-elements
          image: /local/lovelace/room.png
          elements:
            - type: state-label
              entity: sensor.blank
              hold-action: none
              prefix: "Prusa MK4: Offline"
              style:
                bottom: 20%
                font-size: 150%
                left: 5%
                transform: initial    
              tap_action:
                action: fire-dom-event
                browser_mod:
                  service: browser_mod.popup
                  data:
                    title: Prusa MK4
                    content:
                      type: custom:vertical-stack-in-card
                      cards:
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: switch.prusa_mk4
                              color_type: icon
                              color: rgb(228, 94, 101)
                              icon: mdi:printer-3d
                              name: Power
                              hold_action:
                                action: more-info                     
                            - type: custom:button-card
                              entity: button.prusamk4_pause_job
                              color_type: icon
                              icon: mdi:pause
                              name: Pause
                              hold_action:
                                action: more-info
                            - type: custom:button-card
                              entity: button.prusamk4_resume_job
                              color_type: icon
                              icon: mdi:play
                              name: Resume
                              hold_action:
                                action: more-info
                            - type: custom:button-card
                              entity: button.prusamk4_cancel_job
                              color_type: icon
                              icon: mdi:cancel
                              name: Cancel
                              hold_action:
                                action: more-info
              hold_action: none
      - type: conditional
        conditions:
          - entity: sensor.prusamk4
            state_not: "unavailable"
        card:
          type: custom:stack-in-card
          cards:
            - type: picture-elements
              image: /local/lovelace/room.png
              elements:
                - type: state-label
                  entity: sensor.prusamk4
                  prefix: 'Prusa MK4: '
                  style:
                    bottom: 20%
                    font-size: 150%
                    left: 5%
                    transform: initial
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        title: Prusa MK4
                        content:
                          type: custom:vertical-stack-in-card
                          cards:
                            - type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  entity: switch.prusa_mk4
                                  color_type: icon
                                  color: rgb(228, 94, 101)
                                  icon: mdi:printer-3d
                                  name: Power
                                  hold_action:
                                    action: more-info                     
                                - type: custom:button-card
                                  entity: button.prusamk4_pause_job
                                  color_type: icon
                                  icon: mdi:pause
                                  name: Pause
                                  hold_action:
                                    action: more-info
                                - type: custom:button-card
                                  entity: button.prusamk4_resume_job
                                  color_type: icon
                                  icon: mdi:play
                                  name: Resume
                                  hold_action:
                                    action: more-info
                                - type: custom:button-card
                                  entity: button.prusamk4_cancel_job
                                  color_type: icon
                                  icon: mdi:cancel
                                  name: Cancel
                                  hold_action:
                                    action: more-info
                  hold_action: none
                - entity: sensor.mk4_remaining_print_time
                  prefix: 'Remaining: '
                  style:
                    bottom: 23%
                    font-size: 110%
                    right: 5%
                    transform: initial
                  type: state-label
            - type: horizontal-stack
              cards:
                - type: custom:flex-horseshoe-card
                  entities:
                    - entity: sensor.mk4_progress
                      attribute: state
                      decimals: 0
                      name: STATUS
                      unit: '%'
                    - entity: sensor.mk4_elapsed_print_time
                      attribute: state
                      decimals: 0
                  show:
                    horseshoe_style: lineargradient
                  layout:
                    hlines:
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;
                    names:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95
                  horseshoe_scale:
                    min: 0
                    max: 100
                  color_stops:
                    '0': '#FFF6E3'
                    '10': '#FFE9B9'
                    '20': '#FFDA8A'
                    '30': '#FFCB5B'
                    '40': '#FFBF37'
                    '50': '#ffb414'
                    '60': '#FFAD12'
                    '70': '#FFA40E'
                    '80': '#FF9C0B'
                    '90': '#FF8C06'
                - type: custom:flex-horseshoe-card
                  entities:
                    - entity: sensor.mk4_nozzle_temp_actual
                      attribute: state
                      decimals: 1
                      name: Hotend
                      unit: °C
                    - entity: sensor.mk4_nozzle_temp_target
                      attribute: state
                      decimals: 1
                      unit: °C
                      icon: mdi:thermometer
                  show:
                    horseshoe_style: lineargradient
                  layout:
                    hlines:
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;
                    names:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95
                  horseshoe_scale:
                    min: 0
                    max: 400
                  color_stops:
                    '0': '#FFF6E3'
                    '1000': '#FFE9B9'
                    '2000': '#FFDA8A'
                    '3000': '#FFCB5B'
                    '4000': '#FFBF37'
                    '5000': '#ffb414'
                    '6000': '#FFAD12'
                    '7000': '#FFA40E'
                    '8000': '#FF9C0B'
                    '9000': '#FF8C06'
                - type: custom:flex-horseshoe-card
                  entities:
                    - entity: sensor.mk4_bed_temp_actual
                      attribute: state
                      decimals: 1
                      name: BED
                      unit: °C
                    - entity: sensor.mk4_bed_temp_target
                      attribute: state
                      decimals: 1
                      unit: °C
                      icon: mdi:thermometer
                  show:
                    horseshoe_style: lineargradient
                  layout:
                    hlines:
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;
                    names:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95
                  horseshoe_scale:
                    min: 0
                    max: 100
                  color_stops:
                    '0': '#FFF6E3'
                    '1000': '#FFE9B9'
                    '2000': '#FFDA8A'
                    '3000': '#FFCB5B'
                    '4000': '#FFBF37'
                    '5000': '#ffb414'
                    '6000': '#FFAD12'
                    '7000': '#FFA40E'
                    '8000': '#FF9C0B'
                    '9000': '#FF8C06'
            - type: horizontal-stack
              cards:
                - type: picture-entity
                  entity: camera.prusa_mk4
                  camera_image: camera.prusa_mk4
                  camera_view: live
                  show_name: false
                  show_state: false
                  aspect_ratio: 4x3
                - type: conditional
                  conditions:
                    - entity: camera.prusamk4_preview
                      state: unavailable
                  card:
                    type: picture-entity
                    entity: sensor.prusamk4
                    image: /local/lovelace/prusa-logo.webp
                    show_name: false
                    show_state: false
                    aspect_ratio: 4x3
                - type: conditional
                  conditions:
                    - entity: camera.prusamk4_preview
                      state_not: unavailable
                  card:
                    type: picture-entity
                    entity: camera.prusamk4_preview
                    camera_image: camera.prusamk4_preview
                    camera_view: live
                    show_name: false
                    show_state: false
                    aspect_ratio: 4x3

              
      - type: conditional
        conditions:
          - entity: sensor.prusamk3_5
            state: "unavailable"
        card:
          type: picture-elements
          image: /local/lovelace/room.png
          elements:
            - type: state-label
              entity: sensor.blank
              hold-action: none
              prefix: "Prusa MK3.5: Offline"
              style:
                bottom: 20%
                font-size: 150%
                left: 5%
                transform: initial  
              tap_action:
                action: fire-dom-event
                browser_mod:
                  service: browser_mod.popup
                  data:
                    title: Prusa MK3.5
                    content:
                      type: custom:vertical-stack-in-card
                      cards:
                        - type: horizontal-stack
                          cards:
                            - type: custom:button-card
                              entity: switch.prusa_mk3
                              color_type: icon
                              color: rgb(228, 94, 101)
                              icon: mdi:printer-3d
                              name: Power
                              hold_action:
                                action: more-info                     
                            - type: custom:button-card
                              entity: button.prusamk3_5_pause_job
                              color_type: icon
                              icon: mdi:pause
                              name: Pause
                              hold_action:
                                action: more-info
                            - type: custom:button-card
                              entity: button.prusamk3_5_resume_job
                              color_type: icon
                              icon: mdi:play
                              name: Resume
                              hold_action:
                                action: more-info
                            - type: custom:button-card
                              entity: button.prusamk3_5_cancel_job
                              color_type: icon
                              icon: mdi:cancel
                              name: Cancel
                              hold_action:
                                action: more-info
              hold_action: none
      - type: conditional
        conditions:
          - entity: sensor.prusamk3_5
            state_not: "unavailable"
        card:
          type: custom:stack-in-card
          cards:
            - type: picture-elements
              image: /local/lovelace/room.png
              elements:
                - type: state-label
                  entity: sensor.prusamk3_5
                  hold-action: none
                  prefix: 'Prusa MK3.5: '
                  style:
                    bottom: 20%
                    font-size: 150%
                    left: 5%
                    transform: initial
                  tap_action:
                    action: fire-dom-event
                    browser_mod:
                      service: browser_mod.popup
                      data:
                        title: Prusa MK3.5
                        content:
                          type: custom:vertical-stack-in-card
                          cards:
                            - type: horizontal-stack
                              cards:
                                - type: custom:button-card
                                  entity: switch.prusa_mk3
                                  color_type: icon
                                  color: rgb(228, 94, 101)
                                  icon: mdi:printer-3d
                                  name: Power
                                  hold_action:
                                    action: more-info                     
                                - type: custom:button-card
                                  entity: button.prusamk3_5_pause_job
                                  color_type: icon
                                  icon: mdi:pause
                                  name: Pause
                                  hold_action:
                                    action: more-info
                                - type: custom:button-card
                                  entity: button.prusamk3_5_resume_job
                                  color_type: icon
                                  icon: mdi:play
                                  name: Resume
                                  hold_action:
                                    action: more-info
                                - type: custom:button-card
                                  entity: button.prusamk3_5_cancel_job
                                  color_type: icon
                                  icon: mdi:cancel
                                  name: Cancel
                                  hold_action:
                                    action: more-info
                  hold_action: none
                - entity: sensor.mk3_remaining_print_time
                  prefix: 'Remaining: '
                  style:
                    bottom: 23%
                    font-size: 110%
                    right: 5%
                    transform: initial
                  type: state-label
            - type: horizontal-stack
              cards:
                - type: custom:flex-horseshoe-card
                  entities:
                    - entity: sensor.mk3_progress
                      attribute: state
                      decimals: 0
                      name: STATUS
                      unit: '%'
                    - entity: sensor.mk3_elapsed_print_time
                      attribute: state
                      decimals: 0
                  show:
                    horseshoe_style: lineargradient
                  layout:
                    hlines:
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;
                    names:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95
                  horseshoe_scale:
                    min: 0
                    max: 100
                  color_stops:
                    '0': '#FFF6E3'
                    '10': '#FFE9B9'
                    '20': '#FFDA8A'
                    '30': '#FFCB5B'
                    '40': '#FFBF37'
                    '50': '#ffb414'
                    '60': '#FFAD12'
                    '70': '#FFA40E'
                    '80': '#FF9C0B'
                    '90': '#FF8C06'
                - type: custom:flex-horseshoe-card
                  entities:
                    - entity: sensor.mk3_nozzle_temp_actual
                      attribute: state
                      decimals: 1
                      name: Hotend
                      unit: °C
                    - entity: sensor.mk3_nozzle_temp_target
                      attribute: state
                      decimals: 1
                      unit: °C
                      icon: mdi:thermometer
                  show:
                    horseshoe_style: lineargradient
                  layout:
                    hlines:
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;
                    names:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95
                  horseshoe_scale:
                    min: 0
                    max: 400
                  color_stops:
                    '0': '#FFF6E3'
                    '1000': '#FFE9B9'
                    '2000': '#FFDA8A'
                    '3000': '#FFCB5B'
                    '4000': '#FFBF37'
                    '5000': '#ffb414'
                    '6000': '#FFAD12'
                    '7000': '#FFA40E'
                    '8000': '#FF9C0B'
                    '9000': '#FF8C06'
                - type: custom:flex-horseshoe-card
                  entities:
                    - entity: sensor.mk3_bed_temp_actual
                      attribute: state
                      decimals: 1
                      name: BED
                      unit: °C
                    - entity: sensor.mk3_bed_temp_target
                      attribute: state
                      decimals: 1
                      unit: °C
                      icon: mdi:thermometer
                  show:
                    horseshoe_style: lineargradient
                  layout:
                    hlines:
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;
                    names:
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95
                  horseshoe_scale:
                    min: 0
                    max: 100
                  color_stops:
                    '0': '#FFF6E3'
                    '1000': '#FFE9B9'
                    '2000': '#FFDA8A'
                    '3000': '#FFCB5B'
                    '4000': '#FFBF37'
                    '5000': '#ffb414'
                    '6000': '#FFAD12'
                    '7000': '#FFA40E'
                    '8000': '#FF9C0B'
                    '9000': '#FF8C06'
            - type: horizontal-stack
              cards:
                - type: picture-entity
                  entity: camera.prusa_mk3
                  camera_image: camera.prusa_mk3
                  camera_view: live
                  show_name: false
                  show_state: false
                  aspect_ratio: 4x3
                - type: conditional
                  conditions:
                    - entity: camera.prusamk3_5_preview
                      state: unavailable
                  card:
                    type: picture-entity
                    entity: sensor.prusamk4
                    image: /local/lovelace/prusa-logo.webp
                    show_name: false
                    show_state: false
                    aspect_ratio: 4x3
                - type: conditional
                  conditions:
                    - entity: camera.prusamk3_5_preview
                      state_not: unavailable
                  card:
                    type: picture-entity
                    entity: camera.prusamk4_preview
                    camera_image: camera.prusamk4_preview
                    camera_view: live
                    show_name: false
                    show_state: false
                    aspect_ratio: 4x3