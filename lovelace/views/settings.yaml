# lovelace_gen
#############################################################################################################################################
#                                                                                                                                           #
#                                                                VIEW 4 - Blinds                                                            #
#                                                                                                                                           #
#############################################################################################################################################

id: 7
icon: mdi:cog
title: Settings

cards:
  - type: vertical-stack
    cards:
      - type: custom:stack-in-card
        cards:
          - type: picture-elements
            image: /local/lovelace/room.png
            elements:
              - entity: sensor.blank
                hold-action: none
                prefix: RainMachine
                style:
                  bottom: 20%
                  font-size: 150%
                  left: 5%
                  transform: initial
                tap_action: none
                hold_action: none
                type: state-label

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: sensor.program_every_2_days_status
                color_type: icon
                state:
                  - value: "enabled"
                    color: rgb(228, 94, 101)
                    icon: mdi:alarm-check
                  - value: "running"
                    color: rgb(228, 94, 101)
                    icon: mdi:sprinkler
                    styles:
                      icon:
                        - animation: blink 1s infinite
                  - value: "disabled"
                    color: rgb(255, 255, 255)
                    icon: mdi:alarm-off
                name: Every 2 Days
                tap_action:
                  action: call-service
                  service: script.rainmachine_program_2_tap
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: sensor.program_every_3_days_status
                color_type: icon
                state:
                  - value: "enabled"
                    color: rgb(228, 94, 101)
                    icon: mdi:alarm-check
                  - value: "running"
                    color: rgb(228, 94, 101)
                    icon: mdi:mdi:sprinkler
                    styles:
                      icon:
                        - animation: blink 1s infinite
                  - value: "disabled"
                    color: rgb(255, 255, 255)
                    icon: mdi:alarm-off
                name: Every 3 Days
                tap_action:
                  action: call-service
                  service: script.rainmachine_program_1_tap
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: sensor.program_drip_status
                color_type: icon
                state:
                  - value: "enabled"
                    color: rgb(228, 94, 101)
                    icon: mdi:alarm-check
                  - value: "running"
                    color: rgb(228, 94, 101)
                    icon: mdi:sprinkler
                    styles:
                      icon:
                        - animation: blink 1s infinite
                  - value: "disabled"
                    color: rgb(255, 255, 255)
                    icon: mdi:alarm-off
                name: Drip
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.program_drip_enabled
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: switch.irrigation_run_program
                color_type: icon
                icon: mdi:sprinkler-variant
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)                
                    name: Stop Program
                  - value: "off"
                    color: rgb(255, 255, 255)              
                    name: Run Program
                hold_action:
                  action: more-info

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_1_watering
                color_type: icon
                icon: mdi:numeric-1-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: E Front
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.east_front
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_2_watering
                color_type: icon
                icon: mdi:numeric-2-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: E Side
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.east_side
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_3_watering
                color_type: icon
                icon: mdi:numeric-3-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: Back
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.back_yard
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_4_watering
                color_type: icon
                icon: mdi:numeric-4-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: W Side
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.west_side
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_5_watering
                color_type: icon
                icon: mdi:numeric-5-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: W Front
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.west_front
                hold_action:
                  action: more-info
              - type: "custom:button-card"
                entity: binary_sensor.rm_zone_6_watering
                color_type: icon
                icon: mdi:numeric-6-box
                state:
                  - value: "on"
                    color: rgb(228, 94, 101)
                  - value: "off"
                    color: rgb(255, 255, 255)
                name: Drip
                tap_action:
                  action: call-service
                  service: switch.toggle
                  service_data:
                    entity_id: switch.back_drip
                hold_action:
                  action: more-info
      - type: entities
        show_header_toggle: false
        title: Blinds
        entities:
          - type: custom:fold-entity-row
            head: cover.house_blinds
            entities:
              - sensor.house_blinds_average_light_level
          - type: custom:fold-entity-row
            head: cover.den_blinds
            entities:
              - type: custom:fold-entity-row
                head: cover.left_den_blind
                entities:
                  - sensor.left_den_blind_light_level
                  - sensor.left_den_blind_version
                  - sensor.left_den_blind_ip
                  - sensor.left_den_blind_uptime
              - type: custom:fold-entity-row
                head: cover.center_den_blind
                entities:
                  - sensor.center_den_blind_light_level
                  - sensor.center_den_blind_version
                  - sensor.center_den_blind_ip
                  - sensor.center_den_blind_uptime
              - type: custom:fold-entity-row
                head: cover.right_den_blind
                entities:
                  - sensor.right_den_blind_light_level
                  - sensor.right_den_blind_version
                  - sensor.right_den_blind_ip
                  - sensor.right_den_blind_uptime
              - sensor.den_blinds_average_light_level
          - type: custom:fold-entity-row
            head: cover.kitchen_blinds
            entities:
              - type: custom:fold-entity-row
                head: cover.left_kitchen_blind
                entities:
                  - sensor.left_kitchen_blind_light_level
                  - sensor.left_kitchen_blind_version
                  - sensor.left_kitchen_blind_ip
                  - sensor.left_kitchen_blind_uptime
              - type: custom:fold-entity-row
                head: cover.right_kitchen_blind
                entities:
                  - sensor.right_kitchen_blind_light_level
                  - sensor.right_kitchen_blind_version
                  - sensor.right_kitchen_blind_ip
                  - sensor.right_kitchen_blind_uptime
              - type: custom:fold-entity-row
                head: cover.east_kitchen_blind
                entities:
                  - sensor.east_kitchen_blind_light_level
                  - sensor.east_kitchen_blind_version
                  - sensor.east_kitchen_blind_ip
                  - sensor.east_kitchen_blind_uptime
              - sensor.kitchen_blinds_average_light_level
          - type: custom:fold-entity-row
            head: cover.office_blinds
            entities:
              - type: custom:fold-entity-row
                head: cover.left_office_blind
                entities:
                  - sensor.left_office_blind_light_level
                  - sensor.left_office_blind_version
                  - sensor.left_office_blind_ip
                  - sensor.left_office_blind_uptime
              - type: custom:fold-entity-row
                head: cover.center_office_blind
                entities:
                  - sensor.center_office_blind_light_level
                  - sensor.center_office_blind_version
                  - sensor.center_office_blind_ip
                  - sensor.center_office_blind_uptime
              - type: custom:fold-entity-row
                head: cover.right_office_blind
                entities:
                  - sensor.right_office_blind_light_level
                  - sensor.right_office_blind_version
                  - sensor.right_office_blind_ip
                  - sensor.right_office_blind_uptime
              - sensor.office_blinds_average_light_level
          - type: custom:fold-entity-row
            head: cover.master_blinds
            entities:
              - type: custom:fold-entity-row
                head: cover.left_master_blind
                entities:
                  - sensor.left_master_blind_light_level
                  - sensor.left_master_blind_version
                  - sensor.left_master_blind_ip
                  - sensor.left_master_blind_uptime
              - type: custom:fold-entity-row
                head: cover.center_master_blind
                entities:
                  - sensor.center_master_blind_light_level
                  - sensor.center_master_blind_version
                  - sensor.center_master_blind_ip
                  - sensor.center_master_blind_uptime
              - type: custom:fold-entity-row
                head: cover.right_master_blind
                entities:
                  - sensor.right_master_blind_light_level
                  - sensor.right_master_blind_version
                  - sensor.right_master_blind_ip
                  - sensor.right_master_blind_uptime
              - type: custom:fold-entity-row
                head: cover.west_master_blind
                entities:
                  - sensor.west_master_blind_light_level
                  - sensor.west_master_blind_version
                  - sensor.west_master_blind_ip
                  - sensor.west_master_blind_uptime
              - sensor.master_blinds_average_light_level
          - type: custom:fold-entity-row
            head: cover.guest_blind
            entities:
              - sensor.guest_blind_light_level
              - sensor.guest_blind_version
              - sensor.guest_blind_ip
              - sensor.guest_blind_uptime
          - type: custom:fold-entity-row
            head: cover.server_room_blind
            entities:
              - sensor.server_room_blind_light_level
              - sensor.server_room_blind_version
              - sensor.server_room_blind_ip
              - sensor.server_room_blind_uptime
          - type: custom:fold-entity-row
            head: cover.shack_blinds
            entities:
              - type: custom:fold-entity-row
                head: cover.left_shack_blind
                entities:
                  - sensor.left_shack_blind_light_level
                  - sensor.left_shack_blind_version
                  - sensor.left_shack_blind_ip
                  - sensor.left_shack_blind_uptime
              - type: custom:fold-entity-row
                head: cover.center_shack_blind
                entities:
                  - sensor.center_shack_blind_light_level
                  - sensor.center_shack_blind_version
                  - sensor.center_shack_blind_ip
                  - sensor.center_shack_blind_uptime
              - type: custom:fold-entity-row
                head: cover.right_shack_blind
                entities:
                  - sensor.right_shack_blind_light_level
                  - sensor.right_shack_blind_version
                  - sensor.right_shack_blind_ip
                  - sensor.right_shack_blind_uptime
              - sensor.shack_blinds_average_light_level

  #################################################################
  #                                                               #
  #                      Home - GitHub                            #
  #                                                               #
  #################################################################
  - type: vertical-stack
    cards:
      - type: entities
        show_header_toggle: false
        title: CCTV
        entities:
          - entity: sensor.frigate_status
            icon: mdi:cctv
          - input_boolean.frigate_enabled
          - entity: input_number.frigate_disable_time
            name: Delay
          - entity: timer.frigate_disable
            name: Time Remaining

      #################################################################
      #                                                               #
      #                       Config - Zigbee2MQTT                    #
      #                                                               #
      #################################################################

      - type: entities
        show_header_toggle: false
        title: Zigbee2MQTT
        entities:
          - entity: input_boolean.zigbee_permit_join
          - entity: timer.zigbee_permit_join
          - entity: sensor.bridge_state

      - type: entities
        show_header_toggle: false
        title: Clock Bells
        entities:
          - entity: input_boolean.clock_bells_enabled
            name: Enabled
          - input_boolean.clock_bells_quarter_chime
          - input_boolean.clock_bells_hour_chime


  #################################################################
  #                                                               #
  #                          System - Prusa                       #
  #                                                               #
  #################################################################
  - type: vertical-stack
    cards:
      - !include /config/lovelace/cards/rooms/work.yaml
      - type: 'custom:stack-in-card'
        cards:
          - type: picture-elements
            image: /local/lovelace/room_sm.png
            elements:
              - entity: sensor.blank
                hold-action: none
                prefix: RideWithGPS
                style:
                  bottom: '-5%'
                  font-size: 150%
                  left: 5%
                  transform: initial
                type: state-label
          - type: glance
            show_icon: false
            entities:
              - entity: sensor.daily_bike_distance
                name: Daily
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Daily Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.daily_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.daily_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.daily_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.daily_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.daily_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.weekly_bike_distance
                name: Weekly
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Weekly Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.weekly_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.weekly_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.weekly_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.weekly_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.weekly_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.monthly_bike_distance
                name: Monthly
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Monthly Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.monthly_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.monthly_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.monthly_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.monthly_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.monthly_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.yearly_bike_distance
                name: Yearly
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Yearly Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.yearly_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.yearly_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.yearly_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.yearly_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.yearly_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'
              - entity: sensor.career_bike_distance
                name: Career
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      title: Career Rides
                      content:
                        type: entities
                        entities:
                          - entity: sensor.career_bike_distance
                            name: Distance
                            icon: 'mdi:map-marker-distance'
                          - entity: sensor.career_bike_duration_calc
                            name: Duration
                            icon: 'mdi:timer'
                          - entity: sensor.career_bike_calories
                            name: Calories
                            icon: 'mdi:fire'
                          - entity: sensor.career_bike_climb
                            name: Climb
                            icon: 'mdi:slope-uphill'
                          - entity: sensor.career_bike_rides
                            name: Rides
                            icon: 'mdi:bicycle'

      - type: 'custom:stack-in-card'
        cards:
          - type: picture-elements
            image: /local/lovelace/room_sm.png
            elements:
              - entity: sensor.blank
                hold-action: none
                prefix: Crosstrek
                style:
                  bottom: '-5%'
                  font-size: 150%
                  left: 5%
                  transform: initial
                type: state-label
          - type: horizontal-stack
            cards:
              - type: custom:flex-horseshoe-card
                entities:
                  - entity: sensor.crosstrek_fuel_level
                    attribute: state
                    decimals: 0
                    name: Fuel
                    unit: '%'
                    tap_action:
                      action: more-info
                  - entity: sensor.crosstrek_range
                    attribute: state
                    decimals: 0
                    unit: mi
                    icon: none
                    tap_action:
                      action: more-info
                show:
                  horseshoe_style: lineargradient
                layout:
                  hlines:
                    - id: 0
                      xpos: 50
                      ypos: 52
                      length: 40
                      styles:
                        - stroke: var(--primary-text-color);
                        - stroke-width: 5;
                        - stroke-linecap: round;
                        - opacity: 0.7;
                  states:
                    - id: 0
                      entity_index: 0
                      xpos: 53
                      ypos: 44
                      styles:
                        - font-size: 3em;
                    - id: 1
                      entity_index: 1
                      xpos: 36
                      ypos: 70
                      styles:
                        - text-anchor: start;
                        - font-size: 2.0em;
                  icons:
                    - id: 0
                      entity_index: 1
                      xpos: 37
                      ypos: 70
                      align: end
                      size: 1.3
                  names:
                    - id: 0
                      entity_index: 0
                      xpos: 50
                      ypos: 95
                horseshoe_scale:
                  min: 0
                  max: 100
                color_stops:
                  '0': '#FFF6E3'
                  '1000': '#FFE9B9'
                  '2000': '#FFDA8A'
                  '3000': '#FFCB5B'
                  '4000': '#FFBF37'
                  '5000': '#ffb414'
                  '6000': '#FFAD12'
                  '7000': '#FFA40E'
                  '8000': '#FF9C0B'
                  '9000': '#FF8C06'
              - type: custom:flex-horseshoe-card
                entities:
                  - entity: sensor.crosstrek_oil_life
                    attribute: state
                    decimals: 0
                    name: Oil
                    unit: '%'
                    tap_action:
                      action: more-info
                  - entity: sensor.crosstrek_oil_distance
                    attribute: state
                    decimals: 0
                    unit: mi
                    icon: none
                    tap_action:
                      action: more-info
                show:
                  horseshoe_style: lineargradient
                layout:
                  hlines:
                    - id: 0
                      xpos: 50
                      ypos: 52
                      length: 40
                      styles:
                        - stroke: var(--primary-text-color);
                        - stroke-width: 5;
                        - stroke-linecap: round;
                        - opacity: 0.7;
                  states:
                    - id: 0
                      entity_index: 0
                      xpos: 53
                      ypos: 44
                      styles:
                        - font-size: 3em;
                    - id: 1
                      entity_index: 1
                      xpos: 36
                      ypos: 70
                      styles:
                        - text-anchor: start;
                        - font-size: 2.0em;
                  icons:
                    - id: 0
                      entity_index: 1
                      xpos: 37
                      ypos: 70
                      align: end
                      size: 1.3
                  names:
                    - id: 0
                      entity_index: 0
                      xpos: 50
                      ypos: 95
                horseshoe_scale:
                  min: 0
                  max: 100
                color_stops:
                  '0': '#FFF6E3'
                  '1000': '#FFE9B9'
                  '2000': '#FFDA8A'
                  '3000': '#FFCB5B'
                  '4000': '#FFBF37'
                  '5000': '#ffb414'
                  '6000': '#FFAD12'
                  '7000': '#FFA40E'
                  '8000': '#FF9C0B'
                  '9000': '#FF8C06'
              - type: custom:flex-horseshoe-card
                entities:
                  - entity: sensor.crosstrek_tire_life
                    attribute: state
                    decimals: 0
                    name: tire rotation
                    unit: '%'
                    tap_action:
                      action: more-info
                  - entity: sensor.crosstrek_tire_distance
                    attribute: state
                    decimals: 0
                    unit: mi
                    icon: none
                    tap_action:
                      action: more-info
                show:
                  horseshoe_style: lineargradient
                layout:
                  hlines:
                    - id: 0
                      xpos: 50
                      ypos: 52
                      length: 40
                      styles:
                        - stroke: var(--primary-text-color);
                        - stroke-width: 5;
                        - stroke-linecap: round;
                        - opacity: 0.7;
                  states:
                    - id: 0
                      entity_index: 0
                      xpos: 53
                      ypos: 44
                      styles:
                        - font-size: 3em;
                    - id: 1
                      entity_index: 1
                      xpos: 36
                      ypos: 70
                      styles:
                        - text-anchor: start;
                        - font-size: 2.0em;
                  icons:
                    - id: 0
                      entity_index: 1
                      xpos: 37
                      ypos: 70
                      align: end
                      size: 1.3
                  names:
                    - id: 0
                      entity_index: 0
                      xpos: 50
                      ypos: 95
                horseshoe_scale:
                  min: 0
                  max: 100
                color_stops:
                  '0': '#FFF6E3'
                  '1000': '#FFE9B9'
                  '2000': '#FFDA8A'
                  '3000': '#FFCB5B'
                  '4000': '#FFBF37'
                  '5000': '#ffb414'
                  '6000': '#FFAD12'
                  '7000': '#FFA40E'
                  '8000': '#FF9C0B'
                  '9000': '#FF8C06'
          - type: entities
            entities:
              - type: custom:multiple-entity-row
                entity: sensor.crosstrek_mileage_daily
                name: Daily
                icon: mdi:calendar-week
                show_state: false
                entities:
                  - entity: sensor.crosstrek_mileage_yesterday
                    name: Previous
                  - entity: sensor.crosstrek_mileage_daily
                    name: Current
              - type: custom:multiple-entity-row
                entity: sensor.crosstrek_mileage_weekly
                name: Weekly
                icon: mdi:calendar-week
                show_state: false
                entities:
                  - entity: sensor.crosstrek_mileage_last_week
                    name: Previous
                  - entity: sensor.crosstrek_mileage_weekly
                    name: Current
              - type: custom:multiple-entity-row
                entity: sensor.crosstrek_mileage_monthly
                name: Monthly
                icon: mdi:calendar-week
                show_state: false
                entities:
                  - entity: sensor.crosstrek_mileage_last_month
                    name: Previous
                  - entity: sensor.crosstrek_mileage_monthly
                    name: Current

  - type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - entity: sensor.prusa_mk4_current_state
            state: "unavailable"
        card:
          type: picture-elements
          image: /local/lovelace/room.png
          elements:
            - entity: sensor.blank
              hold-action: none
              prefix: "Prusa MK4: Offline"
              style:
                bottom: 20%
                font-size: 150%
                left: 5%
                transform: initial
              tap-action: none
              type: state-label              
      - type: conditional
        conditions:
          - entity: sensor.prusa_mk4_current_state
            state_not: "unavailable"
        card:
          type: "custom:stack-in-card"
          cards:
            - type: picture-elements
              image: /local/lovelace/room.png
              elements:
                - entity: sensor.prusa_mk4_current_state
                  hold-action: none
                  prefix: "Prusa mk4: "
                  style:
                    bottom: 20%
                    font-size: 150%
                    left: 5%
                    transform: initial
                  tap-action: none
                  type: state-label
                - entity: sensor.mk4_remaining_print_time
                  prefix: "Remaining: "
                  style:
                    bottom: 23%
                    font-size: 110%
                    right: 5%
                    transform: initial
                  type: state-label

            - type: horizontal-stack
              cards:
                - type: "custom:flex-horseshoe-card"
                  entities:
                    - entity: sensor.prusa_mk4_job_percentage
                      attribute: state
                      decimals: 0
                      name: "STATUS"
                      unit: "%"
                    - entity: sensor.mk4_elapsed_print_time
                      attribute: state
                      decimals: 0

                  show:
                    horseshoe_style: "lineargradient"
                  layout:
                    hlines:
                      # A horizontal line. Not connected to an entity
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      # States 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      # States 1 refers to the second entity in the list, ie index 1
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;

                    names:
                      # Names 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95

                  # Scale set to -10 to +40 degrees celcius
                  horseshoe_scale:
                    min: 0
                    max: 100
                  # color stop list with 10 colors defined in the theme. With the `lineargradient` fill style, only the
                  # first (16:) and last (25:) colors are used. The thresholds are ignored with this setting.
                  color_stops:
                    0: "#FFF6E3"
                    10: "#FFE9B9"
                    20: "#FFDA8A"
                    30: "#FFCB5B"
                    40: "#FFBF37"
                    50: "#ffb414"
                    60: "#FFAD12"
                    70: "#FFA40E"
                    80: "#FF9C0B"
                    90: "#FF8C06"

                - type: "custom:flex-horseshoe-card"
                  entities:
                    - entity: sensor.mk4_nozzle_temp_actual
                      attribute: state
                      decimals: 1
                      name: "Hotend"
                      unit: "°C"
                    - entity: sensor.mk4_nozzle_temp_target
                      attribute: state
                      decimals: 1
                      unit: "°C"
                      icon: mdi:thermometer

                  show:
                    horseshoe_style: "lineargradient"
                  layout:
                    hlines:
                      # A horizontal line. Not connected to an entity
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      # States 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      # States 1 refers to the second entity in the list, ie index 1
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;

                    names:
                      # Names 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95

                  # Scale set to -10 to +40 degrees celcius
                  horseshoe_scale:
                    min: 0
                    max: 400
                  # color stop list with 10 colors defined in the theme. With the `lineargradient` fill style, only the
                  # first (16:) and last (25:) colors are used. The thresholds are ignored with this setting.
                  color_stops:
                    0: "#FFF6E3"
                    1000: "#FFE9B9"
                    2000: "#FFDA8A"
                    3000: "#FFCB5B"
                    4000: "#FFBF37"
                    5000: "#ffb414"
                    6000: "#FFAD12"
                    7000: "#FFA40E"
                    8000: "#FF9C0B"
                    9000: "#FF8C06"

                - type: "custom:flex-horseshoe-card"
                  entities:
                    - entity: sensor.mk4_bed_temp_actual
                      attribute: state
                      decimals: 1
                      name: "BED"
                      unit: "°C"
                    - entity: sensor.mk4_bed_temp_target
                      attribute: state
                      decimals: 1
                      unit: "°C"
                      icon: mdi:thermometer

                  show:
                    horseshoe_style: "lineargradient"
                  layout:
                    hlines:
                      # A horizontal line. Not connected to an entity
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      # States 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      # States 1 refers to the second entity in the list, ie index 1
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;

                    names:
                      # Names 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95

                  # Scale set to -10 to +40 degrees celcius
                  horseshoe_scale:
                    min: 0
                    max: 100
                  # color stop list with 10 colors defined in the theme. With the `lineargradient` fill style, only the
                  # first (16:) and last (25:) colors are used. The thresholds are ignored with this setting.
                  color_stops:
                    0: "#FFF6E3"
                    1000: "#FFE9B9"
                    2000: "#FFDA8A"
                    3000: "#FFCB5B"
                    4000: "#FFBF37"
                    5000: "#ffb414"
                    6000: "#FFAD12"
                    7000: "#FFA40E"
                    8000: "#FF9C0B"
                    9000: "#FF8C06"

            - type: picture-entity
              entity: camera.prusa_mk4
              camera_image: camera.prusa_mk4
              camera_view: live
              show_name: false
              show_state: false
              aspect_ratio: 4x3
              
      - type: conditional
        conditions:
          - entity: sensor.prusa_mk3_current_state
            state: "unavailable"
        card:
          type: picture-elements
          image: /local/lovelace/room.png
          elements:
            - entity: sensor.blank
              hold-action: none
              prefix: "Prusa MK3: Offline"
              style:
                bottom: 20%
                font-size: 150%
                left: 5%
                transform: initial
              tap-action: none
              type: state-label

      - type: conditional
        conditions:
          - entity: sensor.prusa_mk3_current_state
            state_not: "unavailable"
        card:
          type: "custom:stack-in-card"
          cards:
            - type: picture-elements
              image: /local/lovelace/room.png
              elements:
                - entity: sensor.prusa_mk3_current_state
                  hold-action: none
                  prefix: "Prusa MK3: "
                  style:
                    bottom: 20%
                    font-size: 150%
                    left: 5%
                    transform: initial
                  tap-action: none
                  type: state-label
                - entity: sensor.mk3_remaining_print_time
                  prefix: "Remaining: "
                  style:
                    bottom: 23%
                    font-size: 110%
                    right: 5%
                    transform: initial
                  type: state-label

            - type: horizontal-stack
              cards:
                - type: "custom:flex-horseshoe-card"
                  entities:
                    - entity: sensor.prusa_mk3_job_percentage
                      attribute: state
                      decimals: 0
                      name: "STATUS"
                      unit: "%"
                    - entity: sensor.elapsed_print_time
                      attribute: state
                      decimals: 0

                  show:
                    horseshoe_style: "lineargradient"
                  layout:
                    hlines:
                      # A horizontal line. Not connected to an entity
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      # States 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      # States 1 refers to the second entity in the list, ie index 1
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;

                    names:
                      # Names 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95

                  # Scale set to -10 to +40 degrees celcius
                  horseshoe_scale:
                    min: 0
                    max: 100
                  # color stop list with 10 colors defined in the theme. With the `lineargradient` fill style, only the
                  # first (16:) and last (25:) colors are used. The thresholds are ignored with this setting.
                  color_stops:
                    0: "#FFF6E3"
                    10: "#FFE9B9"
                    20: "#FFDA8A"
                    30: "#FFCB5B"
                    40: "#FFBF37"
                    50: "#ffb414"
                    60: "#FFAD12"
                    70: "#FFA40E"
                    80: "#FF9C0B"
                    90: "#FF8C06"

                - type: "custom:flex-horseshoe-card"
                  entities:
                    - entity: sensor.mk3_nozzle_temp_actual
                      attribute: state
                      decimals: 1
                      name: "Hotend"
                      unit: "°C"
                    - entity: sensor.nozzle_temp_target
                      attribute: state
                      decimals: 1
                      unit: "°C"
                      icon: mdi:thermometer

                  show:
                    horseshoe_style: "lineargradient"
                  layout:
                    hlines:
                      # A horizontal line. Not connected to an entity
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      # States 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      # States 1 refers to the second entity in the list, ie index 1
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;

                    names:
                      # Names 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95

                  # Scale set to -10 to +40 degrees celcius
                  horseshoe_scale:
                    min: 0
                    max: 400
                  # color stop list with 10 colors defined in the theme. With the `lineargradient` fill style, only the
                  # first (16:) and last (25:) colors are used. The thresholds are ignored with this setting.
                  color_stops:
                    0: "#FFF6E3"
                    1000: "#FFE9B9"
                    2000: "#FFDA8A"
                    3000: "#FFCB5B"
                    4000: "#FFBF37"
                    5000: "#ffb414"
                    6000: "#FFAD12"
                    7000: "#FFA40E"
                    8000: "#FF9C0B"
                    9000: "#FF8C06"

                - type: "custom:flex-horseshoe-card"
                  entities:
                    - entity: sensor.bed_temp_actual
                      attribute: state
                      decimals: 1
                      name: "BED"
                      unit: "°C"
                    - entity: sensor.mk3_bed_temp_target
                      attribute: state
                      decimals: 1
                      unit: "°C"
                      icon: mdi:thermometer

                  show:
                    horseshoe_style: "lineargradient"
                  layout:
                    hlines:
                      # A horizontal line. Not connected to an entity
                      - id: 0
                        xpos: 50
                        ypos: 52
                        length: 40
                        styles:
                          - stroke: var(--primary-text-color);
                          - stroke-width: 5;
                          - stroke-linecap: round;
                          - opacity: 0.7;
                    states:
                      # States 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 53
                        ypos: 44
                        styles:
                          - font-size: 3em;
                      # States 1 refers to the second entity in the list, ie index 1
                      - id: 1
                        entity_index: 1
                        xpos: 50
                        ypos: 70
                        styles:
                          - text-anchor: middle;
                          - font-size: 2.0em;

                    names:
                      # Names 0 refers to the first entity in the list, ie index 0
                      - id: 0
                        entity_index: 0
                        xpos: 50
                        ypos: 95

                  # Scale set to -10 to +40 degrees celcius
                  horseshoe_scale:
                    min: 0
                    max: 100
                  # color stop list with 10 colors defined in the theme. With the `lineargradient` fill style, only the
                  # first (16:) and last (25:) colors are used. The thresholds are ignored with this setting.
                  color_stops:
                    0: "#FFF6E3"
                    1000: "#FFE9B9"
                    2000: "#FFDA8A"
                    3000: "#FFCB5B"
                    4000: "#FFBF37"
                    5000: "#ffb414"
                    6000: "#FFAD12"
                    7000: "#FFA40E"
                    8000: "#FF9C0B"
                    9000: "#FF8C06"

            - type: picture-entity
              entity: camera.prusa_mk3
              camera_image: camera.prusa_mk3
              camera_view: live
              show_name: false
              show_state: false
              aspect_ratio: 4x3
